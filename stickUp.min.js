jQuery(function(e){var t=[];var n=[];var r=[];var i=0;var s="";var o="";var u="";var a=null;var f=0;var l=0;var c=0;var h=0;e(window).scroll(function(t){var n=e(this).scrollTop();if(n>i){s="down"}else{s="up"}i=n});e.fn.stickUp=function(t){e(this).addClass("stuckMenu");var n=0;if(t!=null){for(var i in t.parts){if(t.parts.hasOwnProperty(i)){r[n]=t.parts[n];n++}}if(n==0){console.log("error:needs arguments")}o=t.itemClass;u=t.itemHover;if(t.topMargin!=null){if(t.topMargin=="auto"){h=parseInt(e(".stuckMenu").css("margin-top"))}else{if(isNaN(t.topMargin)&&t.topMargin.search("px")>0){h=parseInt(t.topMargin.replace("px",""))}else if(!isNaN(parseInt(t.topMargin))){h=parseInt(t.topMargin)}else{console.log("incorrect argument, ignored.");h=0}}}else{h=0}a=e("."+o).size()}f=parseInt(e(this).height());l=parseInt(e(this).css("margin-bottom"));c=parseInt(e(this).next().closest("div").css("margin-top"));vartop=parseInt(e(this).offset().top)};e(document).on("scroll",function(){varscroll=parseInt(e(document).scrollTop());if(a!=null){for(var t=0;t<a;t++){n[t]=e("#"+r[t]+"").offset().top;function i(t){contentView=e("#"+r[t]+"").height()*.4;testView=n[t]-contentView;if(varscroll>testView){e("."+o).removeClass(u);e("."+o+":eq("+t+")").addClass(u)}else if(varscroll<50){e("."+o).removeClass(u);e("."+o+":eq(0)").addClass(u)}}if(s=="down"&&varscroll>n[t]-50&&varscroll<n[t]+50){e("."+o).removeClass(u);e("."+o+":eq("+t+")").addClass(u)}if(s=="up"){i(t)}}}if(vartop<varscroll+h){e(".stuckMenu").addClass("isStuck");e(".stuckMenu").next().closest("div").css({"margin-top":f+l+c+"px"},10);e(".stuckMenu").css("position","fixed");e(".isStuck").css({top:"0px"},10,function(){})}if(varscroll+h<vartop){e(".stuckMenu").removeClass("isStuck");e(".stuckMenu").next().closest("div").css({"margin-top":c+"px"},10);e(".stuckMenu").css("position","relative")}})})
